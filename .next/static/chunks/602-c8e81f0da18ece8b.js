"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{50177:function(e,t,i){i.d(t,{$:function(){return g}});var s=i(85893),l=i(67294),n=i(28276),r=i(6459),o=i(68029),a=i(8186),c=i(54506),d=i(30980),u=i(82206),p=i(73244),x=i(42845),h=i(38488);let m={title:"",shortDescription:"",description:"",sportType:"",discipline:"",eventType:"regional",ageGroup:"",gender:"mixed",participantsCount:0,status:"draft",location:{city:"",venue:"",address:"",coordinates:{lat:0,lng:0}},media:{banners:[],thumbnails:[],gallery:[],videos:[]},links:{socialMedia:{}},stages:[],tags:[],seo:{title:"",description:"",keywords:[]}},g=e=>{var t,i,g,j,v,f,b,y,C,k,w,S;let{event:z,onSubmit:R,isEdit:T=!1,sportTypes:D,disciplines:I,cities:G,ageGroups:O}=e,{t:P}=(0,n.$G)(["sections/events"]),E=(0,r.p)(),[W,M]=l.useState(z?{...m,...z,location:{city:(null===(t=z.location)||void 0===t?void 0:t.city)||"",venue:(null===(i=z.location)||void 0===i?void 0:i.venue)||"",address:(null===(g=z.location)||void 0===g?void 0:g.address)||"",coordinates:(null===(j=z.location)||void 0===j?void 0:j.coordinates)||{lat:0,lng:0}},media:{banners:(null===(v=z.media)||void 0===v?void 0:v.banners)||[],thumbnails:(null===(f=z.media)||void 0===f?void 0:f.thumbnails)||[],gallery:(null===(b=z.media)||void 0===b?void 0:b.gallery)||[],videos:(null===(y=z.media)||void 0===y?void 0:y.videos)||[]},links:{socialMedia:(null===(C=z.links)||void 0===C?void 0:C.socialMedia)||{}},stages:z.stages||[],tags:z.tags||[],seo:{title:(null===(k=z.seo)||void 0===k?void 0:k.title)||"",description:(null===(w=z.seo)||void 0===w?void 0:w.description)||"",keywords:(null===(S=z.seo)||void 0===S?void 0:S.keywords)||[]}}:m),N=e=>{let{name:t,value:i}=e.target;if(t.includes(".")){let[e,s]=t.split(".");M(t=>({...t,[e]:{...null==t?void 0:t[e],[s]:i}}))}else M(e=>({...e,[t]:i}))};return(0,s.jsx)(o.x,{as:"form",onSubmit:e=>{e.preventDefault();try{R(W),E({title:P(T?"form.editSuccess":"form.addSuccess"),status:"success",duration:3e3,isClosable:!0})}catch(e){E({title:P("form.error"),status:"error",duration:3e3,isClosable:!0})}},children:(0,s.jsxs)(a.g,{spacing:4,align:"stretch",pb:4,children:[(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.title")}),(0,s.jsx)(u.I,{name:"title",value:W.title,onChange:N,placeholder:P("form.titlePlaceholder")})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.shortDescription")}),(0,s.jsx)(p.g,{name:"shortDescription",value:W.shortDescription,onChange:N,placeholder:P("form.shortDescriptionPlaceholder")})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.description")}),(0,s.jsx)(p.g,{name:"description",value:W.description,onChange:N,placeholder:P("form.descriptionPlaceholder")})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.sportType")}),(0,s.jsx)(x.P,{name:"sportType",value:W.sportType,onChange:N,placeholder:P("form.sportTypePlaceholder"),children:D.map(e=>(0,s.jsx)("option",{value:e,children:P("sports.".concat(e))},e))})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.discipline")}),(0,s.jsx)(x.P,{name:"discipline",value:W.discipline,onChange:N,placeholder:P("form.disciplinePlaceholder"),children:I.map(e=>(0,s.jsx)("option",{value:e,children:P("disciplines.".concat(e))},e))})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.eventType")}),(0,s.jsxs)(x.P,{name:"eventType",value:W.eventType,onChange:N,children:[(0,s.jsx)("option",{value:"regional",children:P("form.types.regional")}),(0,s.jsx)("option",{value:"national",children:P("form.types.national")}),(0,s.jsx)("option",{value:"international",children:P("form.types.international")})]})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.location.city")}),(0,s.jsx)(x.P,{name:"location.city",value:W.location.city,onChange:N,placeholder:P("form.location.cityPlaceholder"),children:G.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.location.venue")}),(0,s.jsx)(u.I,{name:"location.venue",value:W.location.venue,onChange:N,placeholder:P("form.location.venuePlaceholder")})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.location.address")}),(0,s.jsx)(u.I,{name:"location.address",value:W.location.address,onChange:N,placeholder:P("form.location.addressPlaceholder")})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.ageGroup")}),(0,s.jsx)(x.P,{name:"ageGroup",value:W.ageGroup,onChange:N,placeholder:P("form.ageGroupPlaceholder"),children:O.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)(c.NI,{isRequired:!0,children:[(0,s.jsx)(d.l,{children:P("form.gender")}),(0,s.jsxs)(x.P,{name:"gender",value:W.gender,onChange:N,children:[(0,s.jsx)("option",{value:"male",children:P("form.genders.male")}),(0,s.jsx)("option",{value:"female",children:P("form.genders.female")}),(0,s.jsx)("option",{value:"mixed",children:P("form.genders.mixed")})]})]}),(0,s.jsx)(h.z,{type:"submit",colorScheme:"blue",size:"lg",w:"100%",children:P(T?"actions.saveEvent":"actions.addEvent")})]})})}},55602:function(e,t,i){i.d(t,{r:function(){return ew}});var s=i(85893),l=i(8186),n=i(96254),r=i(68029),o=i(67294),a=i(6459),c=i(83658),d=i(12519),u=i(85330),p=i(11163),x=i(28276),h=i(31046),m=i(15715),g=i(48899),j=i(90092),v=i(88329),f=i(73636),b=i(37945),y=i(74032),C=i(26972),k=i(50232),w=i(66071),S=i(18948),z=i(17666),R=i(58808),T=i(38389),D=i(78633),I=i(52091),G=i(30080),O=i(77583),P=i(53844);let E=e=>{switch(e){case"published":return"green";case"draft":default:return"gray";case"cancelled":return"red";case"completed":return"blue"}},W=e=>{let{events:t,onEventClick:i,isLoading:n,role:o,onEventEdit:a,onEventDelete:c,viewType:u,onViewTypeChange:p,onFiltersClick:W}=e,{t:M}=(0,x.$G)(["sections/events"]);if((0,h.ff)("white","gray.800"),n)return(0,s.jsx)(m.M,{h:"200px",children:(0,s.jsx)(g.$,{})});if(!t||0===t.length)return(0,s.jsx)(m.M,{h:"calc(100vh - 64px)",children:(0,s.jsx)(j.x,{children:M("noEvents")})});let N=()=>(0,s.jsx)(l.g,{spacing:4,align:"stretch",children:t.map(e=>{var t,l,n,u,p,x;return(0,s.jsx)(r.x,{p:4,borderWidth:"1px",borderRadius:"md",onClick:()=>i(e.id),cursor:"pointer",_hover:{bg:(0,h.ff)("gray.50","gray.700")},children:(0,s.jsx)(v.k,{justify:"space-between",align:"center",children:(0,s.jsxs)(r.x,{flex:"1",children:[(0,s.jsxs)(f.U,{children:[(null===(l=e.media)||void 0===l?void 0:null===(t=l.thumbnails)||void 0===t?void 0:t[0])&&(0,s.jsx)(b.E,{boxSize:"40px",objectFit:"cover",src:e.media.thumbnails[0],alt:e.title,borderRadius:"md"}),(0,s.jsxs)(r.x,{children:[(0,s.jsx)(j.x,{fontWeight:"bold",fontSize:"lg",children:e.title}),(0,s.jsxs)(f.U,{spacing:2,mt:1,children:[(0,s.jsx)(y.C,{colorScheme:E(e.status),children:M("status.".concat(e.status))}),(null!==(x=null===(n=e.stages)||void 0===n?void 0:n.length)&&void 0!==x?x:0)>0&&(0,s.jsxs)(y.C,{colorScheme:"purple",children:[null===(u=e.stages)||void 0===u?void 0:u.length," ",M("stages")]})]}),e.description&&(0,s.jsx)(j.x,{color:"gray.500",mt:2,noOfLines:2,children:e.description}),(0,s.jsxs)(f.U,{mt:2,spacing:4,color:"gray.600",children:[e.startDate&&(0,s.jsxs)(f.U,{fontSize:"sm",children:[(0,s.jsx)(S.Q,{}),(0,s.jsx)(j.x,{children:new Date(e.startDate).toLocaleDateString()}),e.endDate&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.x,{children:"-"}),(0,s.jsx)(j.x,{children:new Date(e.endDate).toLocaleDateString()})]})]}),(null===(p=e.location)||void 0===p?void 0:p.city)&&(0,s.jsxs)(f.U,{fontSize:"sm",children:[(0,s.jsx)(r.x,{as:G.$0r}),(0,s.jsx)(j.x,{children:e.location.city})]})]})]})]}),"manager"===o&&(0,s.jsxs)(f.U,{children:[(0,s.jsx)(C.u,{label:M("edit"),children:(0,s.jsx)(d.h,{icon:(0,s.jsx)(z.d,{}),"aria-label":M("edit"),size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),null==a||a(e)}})}),(0,s.jsx)(C.u,{label:M("delete"),children:(0,s.jsx)(d.h,{icon:(0,s.jsx)(R.p,{}),"aria-label":M("delete"),size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),null==c||c(e.id)}})})]})]})})},e.id)})}),U=()=>(0,s.jsx)(r.x,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:6,w:"full",children:t.map(e=>{var t,l,n,o,a,c;return(0,s.jsxs)(r.x,{p:4,borderWidth:"1px",borderRadius:"md",onClick:()=>i(e.id),cursor:"pointer",_hover:{bg:(0,h.ff)("gray.50","gray.700")},children:[(null===(l=e.media)||void 0===l?void 0:null===(t=l.thumbnails)||void 0===t?void 0:t[0])&&(0,s.jsx)(b.E,{w:"full",h:"200px",objectFit:"cover",src:e.media.thumbnails[0],alt:e.title,borderRadius:"md",mb:4}),(0,s.jsxs)(r.x,{children:[(0,s.jsx)(j.x,{fontWeight:"bold",fontSize:"lg",children:e.title}),(0,s.jsxs)(f.U,{spacing:2,mt:1,children:[(0,s.jsx)(y.C,{colorScheme:E(e.status),children:M("status.".concat(e.status))}),(null!==(c=null===(n=e.stages)||void 0===n?void 0:n.length)&&void 0!==c?c:0)>0&&(0,s.jsxs)(y.C,{colorScheme:"purple",children:[null===(o=e.stages)||void 0===o?void 0:o.length," ",M("stages")]})]}),e.description&&(0,s.jsx)(j.x,{color:"gray.500",mt:2,noOfLines:2,children:e.description}),(0,s.jsxs)(f.U,{mt:2,spacing:4,color:"gray.600",children:[e.startDate&&(0,s.jsxs)(f.U,{fontSize:"sm",children:[(0,s.jsx)(S.Q,{}),(0,s.jsx)(j.x,{children:new Date(e.startDate).toLocaleDateString()}),e.endDate&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.x,{children:"-"}),(0,s.jsx)(j.x,{children:new Date(e.endDate).toLocaleDateString()})]})]}),(null===(a=e.location)||void 0===a?void 0:a.city)&&(0,s.jsxs)(f.U,{fontSize:"sm",children:[(0,s.jsx)(r.x,{as:G.$0r}),(0,s.jsx)(j.x,{children:e.location.city})]})]})]})]},e.id)})});return(0,s.jsxs)(r.x,{h:"100%",display:"flex",flexDirection:"column",children:[(0,s.jsxs)(v.k,{justify:"space-between",align:"center",mb:4,children:[(0,s.jsx)(k.X,{size:"lg",children:M("eventsList")}),(0,s.jsxs)(f.U,{spacing:4,children:[W&&(0,s.jsx)(d.h,{"aria-label":M("filter.title"),icon:(0,s.jsx)(I.ulB,{}),onClick:W,size:"sm"}),(0,s.jsxs)(w.h,{size:"sm",isAttached:!0,variant:"outline",children:[(0,s.jsx)(C.u,{label:M("listView"),children:(0,s.jsx)(d.h,{"aria-label":M("listView"),icon:(0,s.jsx)(T.U,{}),isActive:"list"===u,onClick:()=>p("list")})}),(0,s.jsx)(C.u,{label:M("gridView"),children:(0,s.jsx)(d.h,{"aria-label":M("gridView"),icon:(0,s.jsx)(D.aOG,{}),isActive:"grid"===u,onClick:()=>p("grid")})}),(0,s.jsx)(C.u,{label:M("calendarView"),children:(0,s.jsx)(d.h,{"aria-label":M("calendarView"),icon:(0,s.jsx)(S.Q,{}),isActive:"calendar"===u,onClick:()=>p("calendar")})}),(0,s.jsx)(C.u,{label:M("mapView"),children:(0,s.jsx)(d.h,{"aria-label":M("mapView"),icon:(0,s.jsx)(I.rB_,{}),isActive:"map"===u,onClick:()=>p("map")})})]})]})]}),(0,s.jsx)(r.x,{flex:"1",children:(()=>{switch(u){case"calendar":return(0,s.jsx)(r.x,{h:"calc(100vh - 120px)",children:(0,s.jsx)(O.h,{events:t,onEventClick:i})});case"map":return(0,s.jsx)(r.x,{h:"calc(100vh - 120px)",position:"relative",sx:{"& > div":{height:"100% !important"}},children:(0,s.jsx)(P.A,{events:t,onEventClick:i})});case"grid":return U();default:return N()}})()})]})};var M=i(90038),N=i(4234),U=i(34614),q=i(65272),$=i(21360),L=i(57391),A=i(70010);let Q=e=>{let{isOpen:t,onClose:i,title:l,children:n,placement:r="right"}=e,[o]=(0,M.a)("(max-width: 768px)"),{placement:a,size:c,contentProps:d}=o?{placement:"bottom",size:"full",contentProps:{maxH:"80vh",maxW:"100%",borderTopRadius:"12px"}}:{placement:r,size:"md",contentProps:{maxW:"400px"}};return(0,s.jsxs)(N.dy,{isOpen:t,placement:a,onClose:i,size:c,children:[(0,s.jsx)(U.Z,{}),(0,s.jsxs)(q.s,{...d,children:[(0,s.jsx)($.o,{}),(0,s.jsx)(L.x,{borderBottomWidth:"1px",children:l}),(0,s.jsx)(A.f,{children:n})]})]})};var V=i(34427),_=i(74717);let B=e=>({type:"object",properties:{sportType:{type:"string",title:e("filter.sportType"),default:""},period:{type:"string",title:e("filter.period"),enum:["","1month","3months","6months","custom"],oneOf:[{const:"",title:e("filter.all")},{const:"1month",title:e("filter.period.1month")},{const:"3months",title:e("filter.period.3months")},{const:"6months",title:e("filter.period.6months")},{const:"custom",title:e("filter.period.custom")}],default:""},dateRange:{type:"object",title:"",properties:{start:{type:"string",format:"date",title:e("filter.dateRange.start")},end:{type:"string",format:"date",title:e("filter.dateRange.end")}}},countries:{type:"array",title:e("filter.countries"),items:{type:"string"},uniqueItems:!0,default:[]},cities:{type:"array",title:e("filter.cities"),items:{type:"string"},uniqueItems:!0,default:[]},disciplines:{type:"array",title:e("filter.disciplines"),items:{type:"string"},uniqueItems:!0,default:[]},participantsRange:{type:"array",title:e("filter.participants"),items:{type:"number",minimum:0,maximum:1e3},minItems:2,maxItems:2,default:[0,1e3]},gender:{type:"string",title:e("filter.gender"),enum:["","male","female","mixed"],oneOf:[{const:"",title:e("filter.all")},{const:"male",title:e("filter.genderMale")},{const:"female",title:e("filter.genderFemale")},{const:"mixed",title:e("filter.genderMixed")}],default:""},ageGroup:{type:"string",title:e("filter.ageGroup"),default:""},eventType:{type:"string",title:e("filter.eventType"),enum:["","regional","national","international"],oneOf:[{const:"",title:e("filter.all")},{const:"regional",title:e("filter.eventTypeRegional")},{const:"national",title:e("filter.eventTypeNational")},{const:"international",title:e("filter.eventTypeInternational")}],default:""},status:{type:"string",title:e("filter.status"),enum:["","draft","published","cancelled","completed"],oneOf:[{const:"",title:e("filter.all")},{const:"draft",title:e("status.draft")},{const:"published",title:e("status.published")},{const:"cancelled",title:e("status.cancelled")},{const:"completed",title:e("status.completed")}],default:""}}}),F={"ui:submitButtonOptions":{norender:!0},"*":{classNames:"filter-field","ui:titleMargin":"0.5rem","ui:titleProps":{fontSize:"sm",color:"gray.600"}},participantsRange:{"ui:widget":"range"},dateRange:{"ui:field":"dateRange",classNames:"date-range-field","ui:titleProps":{fontSize:"xs",fontWeight:"500",color:"gray.600"}},countries:{"ui:widget":"checkboxes"},cities:{"ui:widget":"checkboxes"},disciplines:{"ui:widget":"checkboxes"}},H=(e,t,i,s,l,n)=>{var r,o,a,c,d,u,p,x;let h=B(e);return{...h,properties:{...h.properties,sportType:{...null===(r=h.properties)||void 0===r?void 0:r.sportType,enum:["",...t],oneOf:[{const:"",title:e("filter.all")},...t.map(t=>({const:t,title:e("sports.".concat(t))}))]},disciplines:{...null===(o=h.properties)||void 0===o?void 0:o.disciplines,items:{...(null===(a=h.properties)||void 0===a?void 0:a.disciplines).items,enum:["",...i],oneOf:[{const:"",title:e("filter.all")},...i.map(t=>({const:t,title:e("disciplines.".concat(t))}))]}},cities:{...null===(c=h.properties)||void 0===c?void 0:c.cities,items:{...(null===(d=h.properties)||void 0===d?void 0:d.cities).items,enum:["",...s],oneOf:[{const:"",title:e("filter.all")},...s.map(e=>({const:e,title:e}))]}},countries:{...null===(u=h.properties)||void 0===u?void 0:u.countries,items:{...(null===(p=h.properties)||void 0===p?void 0:p.countries).items,enum:["",...l],oneOf:[{const:"",title:e("filter.all")},...l.map(e=>({const:e,title:e}))]}},ageGroup:{...null===(x=h.properties)||void 0===x?void 0:x.ageGroup,enum:["",...n],oneOf:[{const:"",title:e("filter.all")},...n.map(e=>({const:e,title:e}))]}}}};var X=i(25658);let Y=e=>{let{value:t,onChange:i,schema:n,uiSchema:r,label:o}=e,{t:a}=(0,x.$G)(["sections/events"]),c=n.items,d=(null==c?void 0:c.minimum)||0,u=(null==c?void 0:c.maximum)||1e3,p=(null==c?void 0:c.multipleOf)||50;return(0,s.jsxs)(l.g,{spacing:2,align:"stretch",children:[o&&(0,s.jsx)(j.x,{fontSize:"md",color:"gray.600",fontWeight:"500",children:o}),(0,s.jsxs)(X.U2,{min:d,max:u,step:p,value:t||[d,u],onChange:i,"aria-label":["min","max"],children:[(0,s.jsx)(X.ug,{children:(0,s.jsx)(X.I2,{})}),(0,s.jsx)(X.xW,{index:0}),(0,s.jsx)(X.xW,{index:1})]}),(0,s.jsx)(j.x,{fontSize:"xs",color:"gray.600",children:a("filters.participantsRange",{min:t?t[0]:d,max:t?t[1]:u})})]})};var Z=i(44450);let J={sportType:"",period:"",disciplines:[],countries:[],cities:[],participantsRange:[0,1e3],gender:"",ageGroup:"",eventType:"",dateRange:{start:"",end:""},status:""},K=e=>{let{sportTypes:t,disciplines:i,cities:l,countries:n,ageGroups:a}=e,{t:c}=(0,x.$G)(["sections/events"]),[d,u]=(0,Z.useQueryStore)("filters",J),p=(0,o.useMemo)(()=>H(c,t,i,l,n,a),[c,t,i,l,n,a]);return(0,s.jsx)(r.x,{children:(0,s.jsx)(V.ZP,{schema:p,uiSchema:{...F,"ui:submitButtonOptions":{norender:!0}},validator:_.ZP,formData:d,onChange:e=>{let t=e.formData;if(t.period!==d.period){let e=new Date,i=new Date;switch(t.period){case"1month":i.setMonth(e.getMonth()+1);break;case"3months":i.setMonth(e.getMonth()+3);break;case"6months":i.setMonth(e.getMonth()+6);break;case"custom":break;default:t.dateRange=J.dateRange}t.period&&"custom"!==t.period&&(t.dateRange={start:e.toISOString().split("T")[0],end:i.toISOString().split("T")[0]})}u(t)},widgets:{range:Y},transformErrors:e=>e.map(e=>({...e,message:c(e.message)})),translateString:e=>c(e),children:(0,s.jsx)(r.x,{display:"none"})})})};var ee=i(96657),et=i(57879),ei=i(12553);let es=e=>{let{filters:t}=e,{t:i}=(0,x.$G)(["sections/events"]),n=(0,o.useCallback)(()=>{console.log("Subscribe to filters:",t)},[t]);return(0,s.jsx)(ee.b,{status:"info",variant:"subtle",mb:4,borderRadius:"md",colorScheme:"teal",children:(0,s.jsxs)(l.g,{align:"flex-start",spacing:1,flex:1,children:[(0,s.jsx)(j.x,{children:i("filter.subscribeAlert")}),(0,s.jsxs)(et.r,{color:"teal.500",onClick:n,display:"inline-flex",alignItems:"center",_hover:{textDecoration:"none",color:"teal.600"},children:[(0,s.jsx)(j.x,{children:i("filter.subscribeTelegram")}),(0,s.jsx)(ei.J,{as:I.Ww5,ml:1})]})]})})},el=e=>{let{isOpen:t,onClose:i,sportTypes:l,disciplines:n,cities:o,countries:a,ageGroups:c}=e,{t:d}=(0,x.$G)(["sections/events"]),[u]=(0,Z.useQueryStore)("filters",{});return(0,s.jsx)(Q,{isOpen:t,onClose:i,title:d("filter.title"),placement:"left",children:(0,s.jsxs)(r.x,{maxHeight:"calc(100vh - 120px)",overflowY:"auto",px:2,children:[(0,s.jsx)(es,{filters:u}),(0,s.jsx)(K,{sportTypes:l,disciplines:n,cities:o,countries:a,ageGroups:c})]})})};var en=i(64831),er=i(43321);let eo=e=>{switch(e){case"published":case"upcoming":return"blue";case"draft":default:return"gray";case"cancelled":return"red";case"completed":case"ongoing":return"green"}},ea=e=>{var t,i,n,o,a;let{isOpen:c,onClose:d,event:u,onEdit:p,onDelete:m,role:g}=e,{t:v}=(0,x.$G)(["sections/events"]),f=(0,h.ff)("white","gray.800"),C=(0,h.ff)("gray.200","gray.600");return u?(0,s.jsx)(Q,{isOpen:c,onClose:d,title:v("details"),placement:"right",children:(0,s.jsx)(r.x,{maxHeight:"calc(100vh - 120px)",overflowY:"auto",px:2,children:(0,s.jsxs)(l.g,{spacing:6,align:"stretch",children:[(null===(i=u.media)||void 0===i?void 0:null===(t=i.thumbnails)||void 0===t?void 0:t[0])&&(0,s.jsx)(b.E,{src:u.media.thumbnails[0],alt:u.title,objectFit:"cover",borderRadius:"lg",fallbackSrc:"https://via.placeholder.com/400x200"}),(0,s.jsxs)(r.x,{children:[(0,s.jsx)(y.C,{colorScheme:eo(u.status),mb:2,px:2,py:1,borderRadius:"full",children:v("status.".concat(u.status))}),(0,s.jsxs)(k.X,{size:"md",children:[v("sports.".concat(u.sportType))," - ",u.title.split(" - ")[1]]}),(0,s.jsx)(j.x,{color:"gray.600",mt:2,children:u.shortDescription})]}),(0,s.jsx)(en.i,{}),(0,s.jsxs)(er.M,{columns:{base:1,md:2},spacing:4,children:[(0,s.jsxs)(r.x,{children:[(0,s.jsx)(j.x,{fontWeight:"bold",mb:1,children:v("location")}),(0,s.jsx)(j.x,{children:null===(n=u.location)||void 0===n?void 0:n.city}),(0,s.jsx)(j.x,{fontSize:"sm",color:"gray.600",children:null===(o=u.location)||void 0===o?void 0:o.venue})]}),(0,s.jsxs)(r.x,{children:[(0,s.jsx)(j.x,{fontWeight:"bold",mb:1,children:v("sportType")}),(0,s.jsx)(j.x,{children:v("sports.".concat(u.sportType))}),(0,s.jsx)(j.x,{fontSize:"sm",color:"gray.600",children:v("disciplines.".concat(u.discipline))})]})]}),(0,s.jsxs)(r.x,{children:[(0,s.jsxs)(j.x,{fontWeight:"bold",mb:3,children:[v("stages"),":"]}),(0,s.jsx)(l.g,{spacing:4,align:"stretch",children:null===(a=u.stages)||void 0===a?void 0:a.map(e=>(0,s.jsxs)(r.x,{p:4,bg:f,borderWidth:"1px",borderColor:C,borderRadius:"md",children:[(0,s.jsx)(j.x,{fontWeight:"medium",children:v("stage.title",{number:e.title.split(":")[0].split(" ")[1],name:e.title.split(":")[1].trim()})}),(0,s.jsx)(y.C,{colorScheme:eo(e.status),mt:1,px:2,py:.5,borderRadius:"full",children:v("stage.status.".concat(e.status))}),e.description&&(0,s.jsx)(j.x,{fontSize:"sm",mt:2,color:"gray.600",children:e.description})]},e.id))})]})]})})}):null};var ec=i(50177);let ed=e=>{let{isOpen:t,onClose:i,event:l,onSubmit:n,isEdit:r=!1,sportTypes:o,disciplines:a,cities:c,ageGroups:d}=e,{t:u}=(0,x.$G)(["sections/events"]);return(0,s.jsx)(Q,{isOpen:t,onClose:i,title:u(r?"form.editTitle":"form.addTitle"),placement:"right",children:(0,s.jsx)(ec.$,{event:l,onSubmit:e=>{n(e),i()},isEdit:r,sportTypes:o,disciplines:a,cities:c,ageGroups:d})})};var eu=i(95690);let ep=e=>{let{events:t,isLoading:i,role:l,onEventEdit:n,onEventDelete:h,sportTypes:m,disciplines:g,cities:j,countries:v,ageGroups:f}=e;(0,p.useRouter)(),(0,a.p)();let{t:b}=(0,x.$G)(["sections/events"]),{getEventById:y}=(0,eu.M)(),[C,k]=(0,Z.useQueryStore)("events.view.open",!1),[w,S]=(0,Z.useQueryStore)("events.edit.open",!1),[z,R]=(0,Z.useQueryStore)("events.add.open",!1),[T,D]=(0,Z.useQueryStore)("events.current",null),[I,G]=(0,o.useState)("list"),{isOpen:O,onOpen:P,onClose:E}=(0,c.q)(),M=T?y(T):null,N=e=>{D(e),k(!0)},U=e=>{D(e),S(!0)},q=()=>{k(!1),S(!1),R(!1),D(null)},$=(0,o.useCallback)(e=>{N(e)},[]),L=e=>{U(e.id)},A=e=>{null==h||h(e)},Q=(0,o.useCallback)(e=>{G(e)},[]);return(0,s.jsxs)(r.x,{position:"relative",children:[(0,s.jsx)(r.x,{position:"fixed",top:"4",right:"4",zIndex:"sticky",display:"flex",gap:"2",children:"manager"===l&&(0,s.jsx)(d.h,{"aria-label":"Add event",icon:(0,s.jsx)(u.d,{}),onClick:()=>{R(!0)},colorScheme:"green",variant:"solid"})}),(0,s.jsx)(r.x,{maxWidth:"container.xl",mx:"auto",px:4,pt:8,pb:4,children:(0,s.jsx)(W,{events:t,isLoading:i,role:l,onEventClick:$,onEventEdit:L,onEventDelete:A,viewType:I,onViewTypeChange:Q,onFiltersClick:P})}),(0,s.jsx)(el,{isOpen:O,onClose:E,sportTypes:m,disciplines:g,cities:j,countries:v,ageGroups:f}),M&&(0,s.jsx)(ea,{event:M,isOpen:C,onClose:q,onEdit:L,onDelete:A,role:l}),(0,s.jsx)(ed,{event:M,isOpen:w||z,onClose:q,onSubmit:e=>{M&&(null==n||n({...M,...e})),q()},sportTypes:m,disciplines:g,cities:j,ageGroups:f})]})};var ex=i(83947),eh=i(38488),em=i(45560),eg=i(47451),ej=i(90608),ev=i(12095),ef=i(46572),eb=i(34302),ey=i(437);let eC=()=>{let[e,t]=(0,o.useState)(null),{t:i}=(0,x.$G)(["sections/common"]),l=(0,o.useCallback)(()=>{t({name:"John Doe",avatarUrl:"https://bit.ly/dan-abramov"})},[]),n=(0,o.useCallback)(()=>{t(null)},[]);return e?(0,s.jsxs)(ej.v,{children:[(0,s.jsx)(ev.j,{as:eh.z,variant:"ghost",size:"sm",children:(0,s.jsxs)(v.k,{alignItems:"center",gap:2,children:[(0,s.jsx)(ef.q,{size:"xs",name:e.name,src:e.avatarUrl}),(0,s.jsx)(j.x,{children:e.name})]})}),(0,s.jsx)(eb.q,{children:(0,s.jsx)(ey.s,{onClick:n,children:i("auth.logout")})})]}):(0,s.jsx)(eh.z,{leftIcon:(0,s.jsx)(I.IPB,{}),size:"sm",onClick:l,"aria-label":i("auth.login"),children:i("auth.login")})},ek=(0,o.memo)(e=>{let{title:t,role:i="user",onRoleChange:l}=e,{colorMode:a,toggleColorMode:c}=(0,h.If)(),{i18n:u,t:m}=(0,x.$G)(["sections/common"]),g=(0,p.useRouter)(),j=(0,o.useCallback)(e=>{g.push(g.pathname,g.asPath,{locale:e})},[g]),f=(0,o.useCallback)(()=>{l&&l("user"===i?"manager":"user")},[l,i]);return(0,s.jsx)(r.x,{bg:"transparent",borderBottom:"1px solid",borderColor:"gray.200",_dark:{borderColor:"gray.700"},position:"sticky",top:0,zIndex:1e3,backdropFilter:"blur(10px)",w:"100%",children:(0,s.jsx)(n.W,{maxW:"container.xl",px:4,children:(0,s.jsxs)(v.k,{alignItems:"center",justifyContent:"space-between",h:"48px",w:"100%",children:[(0,s.jsx)(r.x,{children:(0,s.jsx)(k.X,{size:"md",children:t})}),(0,s.jsxs)(v.k,{alignItems:"center",gap:4,children:[(0,s.jsxs)(w.h,{size:"sm",isAttached:!0,variant:"outline",children:[(0,s.jsx)(eh.z,{onClick:()=>j("en"),variant:"en"===u.language?"solid":"outline","aria-label":m("language.en"),children:m("language.en")}),(0,s.jsx)(eh.z,{onClick:()=>j("ru"),variant:"ru"===u.language?"solid":"outline","aria-label":m("language.ru"),children:m("language.ru")})]}),(0,s.jsx)(eC,{}),(0,s.jsx)(d.h,{size:"sm","aria-label":m("light"===a?"theme.dark":"theme.light"),icon:"light"===a?(0,s.jsx)(em.k,{}):(0,s.jsx)(eg.N,{}),onClick:c,title:m("light"===a?"theme.dark":"theme.light")}),l&&(0,s.jsx)(eh.z,{size:"sm",onClick:f,"aria-label":m("roles.".concat("user"===i?"manager":"user")),children:m("roles.".concat(i))})]})]})})})});ek.displayName="Navbar";let ew=e=>{let{title:t,role:i="user",onRoleChange:o,children:a,showEventsList:c=!1}=e;return(0,s.jsxs)(l.g,{h:"100vh",spacing:0,children:[(0,s.jsx)(ek,{title:t,role:i,onRoleChange:o}),(0,s.jsx)(n.W,{maxW:"container.xl",py:4,flex:1,overflowY:"auto",children:(0,s.jsx)(r.x,{h:"100%",children:a||c&&(0,s.jsx)(ep,{events:ex.Uj,isLoading:!1,role:i,sportTypes:ex.cy,disciplines:ex.yL,cities:ex.cA,countries:ex.hW,ageGroups:["children","adult","senior"],onEventEdit:e=>console.log("Edit event:",e),onEventDelete:e=>console.log("Delete event:",e)})})})]})}},53844:function(e,t,i){i.d(t,{A:function(){return a}});var s=i(85893);i(67294);var l=i(5152),n=i.n(l),r=i(68029);let o=n()(()=>Promise.all([i.e(269),i.e(921)]).then(i.bind(i,59921)).then(e=>e.Map),{loadableGenerated:{webpack:()=>[59921]},ssr:!1,loading:()=>(0,s.jsx)(r.x,{h:"600px",w:"100%",bg:"gray.100",display:"flex",alignItems:"center",justifyContent:"center",children:"Loading map..."})}),a=e=>{let{events:t,onEventClick:i}=e;return(0,s.jsx)(r.x,{h:"600px",w:"100%",children:(0,s.jsx)(r.x,{h:"100%",w:"100%",children:(0,s.jsx)(o,{center:[55.7558,37.6173],zoom:10,events:t,onEventClick:i})})})}},95690:function(e,t,i){i.d(t,{M:function(){return n}});var s=i(41596),l=i(83947);let n=()=>{let[e]=(0,s.useLocalStore)("demo",!0);return{isDemo:e,getEvents:()=>e?l.Uj:[],getEventById:t=>e&&l.Uj.find(e=>e.id===t)||null}}}}]);