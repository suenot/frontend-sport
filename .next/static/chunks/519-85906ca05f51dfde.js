"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{83947:function(t,e,n){n.d(e,{Uj:function(){return b},cA:function(){return m},cy:function(){return c},hW:function(){return p},yL:function(){return d}});var a=n(56135);a.b.seed(123);let r=["registration","qualification","semifinal","final","other"],o=["draft","published","archived"],i=["draft","published","cancelled","completed"],s=["regional","national","international"],l=["male","female","mixed"],c=["Футбол","Баскетбол","Волейбол","Теннис","Хоккей"],d=["Профессионалы","Любители","Юниоры","Ветераны"],m=["Москва","Санкт-Петербург","Казань","Сочи","Екатеринбург"],p=["Россия","Беларусь","Казахстан","Армения","Узбекистан"],h=["Стадион","Спортивный комплекс","Арена","Дворец спорта","Центр"],g=(t,e,n)=>"https://via.placeholder.com/".concat(t,"x").concat(e,"?text=").concat(encodeURIComponent(n)),u=(t,e)=>{let n=new Date(e);n.setDate(n.getDate()+7*t);let i=new Date(n);i.setDate(i.getDate()+3);let s=Array.from({length:a.b.number.int({min:2,max:5})},(t,e)=>({lat:Number(a.b.location.latitude()),lng:Number(a.b.location.longitude()),title:"Точка ".concat(e+1),description:a.b.lorem.sentence()}));return{id:"stage-".concat(t+1),title:"Этап ".concat(t+1,": ").concat(a.b.word.words(2)),type:r[t%r.length],description:a.b.lorem.paragraph(),dates:{start:n.toISOString(),end:i.toISOString()},location:{city:m[t%m.length],venue:"".concat(h[t%h.length],' "').concat(a.b.company.name(),'"'),address:a.b.location.streetAddress(),coordinates:s[0],route:s},status:o[t%o.length],maxParticipants:50+10*t,currentParticipants:30+5*t,requirements:Array.from({length:3},()=>a.b.lorem.sentence()),results:a.b.datatype.boolean()?{url:a.b.internet.url(),summary:a.b.lorem.paragraph(),winners:Array.from({length:3},(t,e)=>({place:e+1,participantId:"participant-".concat(e+1),name:a.b.person.fullName(),result:"".concat(a.b.number.int({min:80,max:100})," очков")}))}:void 0}},x=t=>{let e=new Date;e.setDate(e.getDate()+14*t);let n=a.b.number.int({min:2,max:4}),r=c[t%c.length];return{id:"event-".concat(t+1),title:"".concat(r," - ").concat(a.b.company.catchPhrase()),description:a.b.lorem.paragraphs(2),shortDescription:a.b.lorem.sentence(),startDate:e.toISOString(),media:{banners:Array.from({length:2},()=>g(800,400,r)),thumbnails:Array.from({length:2},()=>g(200,200,r)),gallery:Array.from({length:5},()=>g(400,300,r)),videos:Array.from({length:2},()=>"https://www.youtube.com/watch?v=dQw4w9WgXcQ")},links:{website:a.b.internet.url(),registration:a.b.internet.url(),socialMedia:{telegram:"https://t.me/sportevent",vk:"https://vk.com/sportevent",instagram:"https://instagram.com/sportevent"}},stages:Array.from({length:n},(t,n)=>u(n,e)),location:{city:m[t%m.length],venue:"".concat(h[t%h.length],' "').concat(a.b.company.name(),'"'),address:a.b.location.streetAddress(),coordinates:{lat:Number(a.b.location.latitude()),lng:Number(a.b.location.longitude())}},sportType:r,discipline:d[t%d.length],eventType:s[t%s.length],ageGroup:a.b.helpers.arrayElement(["6-12","13-17","18-25","26-35","36+"]),gender:a.b.helpers.arrayElement(l),participantsCount:a.b.number.int({min:50,max:1e3}),status:i[t%i.length],organizer:{id:"organizer-".concat(t+1),name:a.b.company.name(),logos:Array.from({length:2},()=>g(100,100,"Logo")),contacts:{email:a.b.internet.email(),phone:a.b.helpers.fromRegExp("+7[0-9]{10}")}},tags:Array.from({length:3},()=>a.b.word.sample()),seo:{title:a.b.lorem.sentence(),description:a.b.lorem.paragraph(),keywords:Array.from({length:5},()=>a.b.word.sample())}}},b=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Array.from({length:t},(t,e)=>x(e))}()},77583:function(t,e,n){n.d(e,{h:function(){return m}});var a=n(85893),r=n(31046),o=n(68029),i=n(8186),s=n(73636),l=n(90092),c=n(67294),d=n(28276);let m=t=>{let{events:e,onEventClick:n}=t,{t:m}=(0,d.$G)(["sections/events"]),p=(0,c.useMemo)(()=>e.slice(0,20).map(t=>({...t,maxParticipants:Math.max(...(t.stages||[]).map(t=>t.maxParticipants||0))})).sort((t,e)=>e.maxParticipants-t.maxParticipants),[e]),h=(0,r.ff)("white","gray.800"),g=(0,r.ff)("gray.200","gray.600"),u=(0,c.useMemo)(()=>{let t=p.flatMap(t=>(t.stages||[]).map(t=>[new Date(t.dates.start),new Date(t.dates.end)])).flat();if(0===t.length){let t=new Date;return{start:t,end:new Date(t.getTime()+864e5)}}return{start:new Date(Math.min(...t.map(t=>t.getTime()))),end:new Date(Math.max(...t.map(t=>t.getTime())))}},[p]),x=(0,c.useMemo)(()=>{let t=[],e=new Date(u.start);for(;e<=u.end;)t.push(new Date(e)),e.setDate(e.getDate()+1);return t},[u]),b=(0,c.useMemo)(()=>{let t=[],e=null;return x.forEach((n,a)=>{let r=n.toLocaleString("default",{month:"long"}),o=m("calendar.months.".concat(r)),i=n.getFullYear(),s="".concat(o,"-").concat(i);e&&"".concat(e.month,"-").concat(e.year)===s?e.daysCount++:(e&&t.push(e),e={month:o,year:i,startIndex:a,daysCount:1})}),e&&t.push(e),t},[x,m]),f=(0,c.useMemo)(()=>{let t=[],e=[[]];return p.forEach(n=>{let a=[...n.stages||[]].sort((t,e)=>(e.maxParticipants||0)-(t.maxParticipants||0)),r=Math.min(...a.map(t=>new Date(t.dates.start).getTime())),o=Math.max(...a.map(t=>new Date(t.dates.end).getTime())),i=0,s=!1;for(;!s;)e[i]||(e[i]=[]),e[i].every(t=>t.end<r)?(e[i].push({end:o}),t.push({event:{...n,stages:a},row:i}),s=!0):i++}),t},[p]);return(0,a.jsxs)(o.x,{h:"100%",w:"100%",overflow:"auto",bg:h,borderRadius:"md",borderWidth:"1px",borderColor:g,children:[(0,a.jsxs)(i.g,{spacing:0,mb:4,position:"sticky",top:0,bg:h,zIndex:1,children:[(0,a.jsx)(s.U,{spacing:0,width:"100%",borderBottom:"1px",borderColor:g,children:b.map((t,e)=>(0,a.jsx)(o.x,{minW:"".concat(240*t.daysCount,"px"),p:2,borderLeft:"1px",borderColor:g,bg:(0,r.ff)(e%2==0?"gray.200":"gray.300",e%2==0?"gray.700":"gray.800"),position:"relative",children:(0,a.jsx)(l.x,{fontSize:"lg",fontWeight:"medium",position:"sticky",left:0,right:0,mx:"auto",display:"block",width:"200px",textAlign:"center",whiteSpace:"nowrap",children:"".concat(t.month," ").concat(t.year)})},e))}),(0,a.jsx)(s.U,{spacing:0,width:"100%",children:x.map((t,e)=>{let n=b.findIndex(t=>e>=t.startIndex&&e<t.startIndex+t.daysCount),i=t.toLocaleString("default",{weekday:"long"}).toLowerCase();return(0,a.jsxs)(o.x,{minW:"240px",p:2,borderLeft:"1px",borderColor:g,textAlign:"center",bg:(0,r.ff)(n%2==0?"gray.50":"white",n%2==0?"gray.700":"gray.800"),children:[(0,a.jsx)(l.x,{fontSize:"md",children:t.getDate()}),(0,a.jsx)(l.x,{fontSize:"sm",color:"gray.500",children:m("calendar.weekDays.".concat(i))})]},e)})})]}),(0,a.jsxs)(o.x,{position:"relative",minH:"200px",children:[(0,a.jsx)(s.U,{spacing:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",children:x.map((t,e)=>{let n=b.findIndex(t=>e>=t.startIndex&&e<t.startIndex+t.daysCount);return(0,a.jsx)(o.x,{minW:"240px",height:"100%",borderLeft:"1px",borderColor:g,bg:(0,r.ff)(n%2==0?"gray.50":"white",n%2==0?"gray.700":"gray.800"),opacity:.3},e)})}),f.map(t=>{let{event:e,row:r}=t;return(0,a.jsx)(o.x,{position:"absolute",top:"".concat(80*r+5,"px"),left:0,width:"100%",height:"70px",children:(e.stages||[]).map(t=>{let i=new Date(t.dates.start),s=new Date(t.dates.end),c=x.findIndex(t=>t.toDateString()===i.toDateString()),d=Math.ceil((s.getTime()-i.getTime())/864e5);return(0,a.jsx)(o.x,{position:"absolute",left:"".concat(240*c,"px"),width:"".concat(240*d,"px"),height:"100%",bg:"hsl(".concat(60*r%360,", 70%, 60%)"),opacity:.8,borderRadius:"md",cursor:"pointer",transition:"all 0.2s",_hover:{opacity:1,transform:"translateY(-2px)",boxShadow:"md"},onClick:()=>null==n?void 0:n(e.id),children:(0,a.jsxs)(o.x,{p:2,children:[(0,a.jsxs)(l.x,{fontSize:"sm",fontWeight:"bold",color:"white",noOfLines:2,textShadow:"0 0 2px rgba(0,0,0,0.5)",children:[e.title," (",t.maxParticipants||0,")"]}),(0,a.jsx)(l.x,{fontSize:"sm",color:"white",noOfLines:1,textShadow:"0 0 2px rgba(0,0,0,0.5)",children:t.title})]})},t.id)})},e.id)})]})]})}}}]);